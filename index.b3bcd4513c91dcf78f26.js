"use strict";(self.webpackChunktask_pilot=self.webpackChunktask_pilot||[]).push([[826],{959:(e,t,n)=>{var a=n(91),s=n.n(a),o=new URL(n(864),n.b),d=new URL(n(974),n.b),c=new URL(n(782),n.b),r=new URL(n(386),n.b),i=new URL(n(598),n.b),l=new URL(n(888),n.b),u=new URL(n(178),n.b),m=new URL(n(830),n.b),p=new URL(n(880),n.b),h=new URL(n(252),n.b);s()(o),s()(d),s()(c),s()(r),s()(i),s()(l),s()(u),s()(m),s()(p),s()(h);var v=n(754),g=n(349),L=n(500),y=n(780),E=n(721);const b={P1:"P1",P2:"P2",P3:"P3",P4:"P4"},w={LIST:"LIST",BOARD:"BOARD"},C="DEFAULT",k="PRIORITY",f="DESC",x=function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n?(e=n.sortBy??k,t=n.ordering??f):(e=k,t=f),{getSortBy:()=>e,setSortBy:t=>{e=t},getOrdering:()=>t,setOrdering:e=>{t=e},toJSON:()=>({sortBy:e,ordering:t})}},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)throw new Error("View: stat is required");let t=e.layout??w.LIST,n=x(e.sort);return{getLayout:()=>t,setLayout:e=>{t=e},getSort:()=>n,setSort:e=>{n=x(e)},toJSON:()=>({layout:t,sort:n.toJSON()})}};var A=n(85),j=n(727),S=n(257),M=n(699);const D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.id??(0,E.Z)();let n,a=e.title??"",s=e.description??"",o=e.completed??!1,d=e.priority in b?e.priority:b.P4,c=e.labels??[],r=e.projectId??null,i=new Date;n=e.dueDate?"string"==typeof e.dueDate?new Date(e.dueDate):e.dueDate:null;const l=e=>{a=e},u=e=>{s=e},m=e=>{n=e},p=e=>{d=e},h=e=>{c=e},v=e=>{r=e},g=()=>(0,A.Z)(n);return{getId:()=>t,getTitle:()=>a,setTitle:l,getDescription:()=>s,setDescription:u,isCompleted:()=>o,toggleCompleted:()=>{o=!o},getDueDate:()=>n,setDueDate:m,getPriority:()=>d,setPriority:p,getProjectId:()=>r,setProjectId:v,getLabels:()=>c,setLabels:h,addLabel:e=>{c.push(e)},removeLabel:e=>{c=c.filter((t=>t!==e))},getCreatedDate:()=>i,setCreatedDate:e=>{i=e},dueDateIsToday:g,dueDateIsTomorrow:()=>(0,j.Z)(n),dueDateIsWithinNextWeek:()=>{const e=new Date,t=(0,L.Z)(e,1);return(0,S.Z)(n,{start:e,end:t})},dueDateIsUpcoming:()=>{const e=new Date;return(0,M.Z)(n,e)},isOverdue:()=>{const e=new Date;return!o&&(0,M.Z)(e,n)&&!g()},update:e=>{l(e.title),u(e.description),p(e.priority),m(e.dueDate),v(e.projectId),h(e.labels)},toJSON:()=>({id:t,title:a,description:s,completed:o,dueDate:n,priority:d,labels:c,projectId:r,createdDate:i})}},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.id??(0,E.Z)();let n=e.title??"",a=e.color??"#808080",s=e.favorite??!1,o=e.showCompleted??!1;const d=T(e.view);let c;c=e.tasks?e.tasks.map((e=>D(e))):[];const r=e=>{n=e},i=e=>{a=e},l=()=>{s=!s},u=e=>{d.setLayout(e.layout),d.setSort(e.sort)};return{getId:()=>t,getTitle:()=>n,setTitle:r,getColor:()=>a,setColor:i,getAllTasks:()=>c,getUnCompletedTasks:()=>c.filter((e=>!e.isCompleted())),getTasksCount:()=>c.filter((e=>!e.isCompleted())).length,addTask:e=>{c.push(e)},removeTask:e=>{c=c.filter((t=>t.getId()!==e.getId()))},updateTask:e=>{const t=c.findIndex((t=>t.getId()===e.getId()));c[t]=e},isFavorite:()=>s,isShowCompleted:()=>o,setShowCompleted:e=>{o=e},toggleShowCompleted:()=>{o=!o},toggleFavorite:l,getView:()=>d,setView:u,update:e=>{r(e.title),i(e.color),l(e.favorite),u(e.view)},toJSON:()=>({id:t,title:n,color:a,favorite:s,showCompleted:o,tasks:c.map((e=>e.toJSON())),view:d.toJSON()})}};function _(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}const P=(e,t)=>((e,t)=>{return!(!(_("localStorage")&&e&&e.length&&"string"==typeof e&&null!=(n=t))||n.constructor!=={}.constructor&&n.constructor!==[].constructor||(window.localStorage.setItem(e,JSON.stringify(t)),0));var n})(e,t),V=e=>(e=>_("localStorage")&&e&&e.length&&"string"==typeof e?JSON.parse(window.localStorage.getItem(e)):null)(e),z=[],H=I({title:"Inbox"});let q=null;const O=T({layout:w.LIST,sort:{sortBy:C,ordering:"ASC"}}),B=T({layout:w.LIST,sort:{sortBy:C,ordering:"ASC"}}),$=e=>z.find((t=>t.getId()===e)),Z=()=>z.reduce(((e,t)=>e.concat(t.getAllTasks())),[]).concat(H.getAllTasks()),R=e=>Z().find((t=>t.getId()===e)),U=e=>{e.forEach((e=>{z.push(I(e))}))},N=e=>{e.tasks.forEach((e=>{if(!e.projectID){const t=D(e);H.addTask(t)}})),H.setShowCompleted(e.showCompleted)},J=e=>{O.setLayout(e.layout),O.setSort(e.sort)},K=e=>{B.setLayout(e.layout),B.setSort(e.sort)},W=()=>({projects:z.map((e=>e.toJSON())),inbox:H.toJSON(),todayView:O.toJSON(),upcomingView:B.toJSON()}),F={getProjects:()=>z,setProjects:U,getInbox:()=>H,setInbox:N,getTodayView:()=>O,setTodayView:J,getInboxView:()=>H.getView(),setInboxView:e=>H.setView(e),getUpcomingView:()=>B,setUpcomingView:K,getFavoriteProjects:()=>z.filter((e=>e.isFavorite())),getProject:$,addProject:e=>{const t=I(e);return z.push(t),t.getId()},updateProject:(e,t)=>{const n=$(e);n&&n.update(t)},removeProject:e=>{const t=$(e);if(t){const e=z.findIndex((e=>e.getId()===t.getId()));z.splice(e,1)}},getCurrentProject:()=>q,setCurrentProject:e=>{q=e},getAllTasks:Z,getAllInboxTasks:()=>H.getAllTasks(),getUnCompletedInboxTasks:()=>H.getUnCompletedTasks(),getInboxTasksCount:()=>H.getTasksCount(),getNonInboxTasks:()=>z.reduce(((e,t)=>e.concat(t.getAllTasks())),[]),getTodayTasks:()=>Z().filter((e=>e.dueDateIsToday()&&!e.isCompleted())),getTodayTasksCount:()=>Z().filter((e=>e.dueDateIsToday()&&!e.isCompleted())).length,getUpcomingTasks:()=>Z().filter((e=>e.dueDateIsUpcoming()&&!e.isCompleted())).sort(((e,t)=>e.getDueDate()-t.getDueDate())),getOverdueTasks:()=>Z().filter((e=>e.isOverdue()&&!e.isCompleted())),getCompletedTasks:()=>Z().filter((e=>e.isCompleted())),getTasksByLabel:e=>Z().filter((t=>t.getLabels().includes(e))),getLabels:()=>Z().reduce(((e,t)=>(t.getLabels().forEach((t=>{e.includes(t)||e.push(t)})),e)),[]),getTasksByPriority:e=>Z().filter((t=>t.getPriority()===e)),getTasksByProject:e=>Z().filter((t=>t.getProjectId()===e)),getTasksByDueDate:e=>Z().filter((t=>t.getDueDate()===e)),getTask:R,addTask:e=>{const t=D(e);if(t.getProjectId()){const e=$(t.getProjectId());e&&e.addTask(t)}else H.addTask(t)},removeTask:e=>{const t=R(e);if(t){const e=$(t.getProjectId());e?e.removeTask(t):H.removeTask(t)}},updateTask:(e,t)=>{const n=R(e);n&&n.update(t)},moveTask:(e,t)=>{const n=R(e);if(n){const e=$(n.getProjectId());if(e?e.removeTask(n):H.removeTask(n),t){const e=$(t);e&&e.addTask(n)}else H.addTask(n);n.setProjectId(t)}},mapTasksByDueDate:e=>e.reduce(((e,t)=>{const n=(0,y.Z)(t.getDueDate(),"yyyy-MM-dd");return e.has(n)||e.set(n,[]),e.get(n).push(t),e}),new Map),toJSON:W,load:()=>{const e=V("projects")??[],t=V("inbox")??{tasks:[]},n=V("todayView")??{layout:w.LIST,sort:{sortBy:C,ordering:"ASC"}},a=V("upcomingView")??{layout:w.LIST,sort:{sortBy:C,ordering:"ASC"}};U(e),N(t),J(n),K(a)},save:()=>{const e=W();P("projects",e.projects),P("inbox",e.inbox),P("todayView",e.todayView),P("upcomingView",e.upcomingView)}},Y={},X=(e,t)=>{Y[e]&&Y[e].forEach((e=>{e(t)}))},G=(e,t)=>{Y[e]=Y[e]??[],Y[e].push(t)},Q=Symbol("LOAD"),ee=(Symbol("SAVE"),Symbol("MOVE_TASK_CONTROL_CLICKED")),te=Symbol("SHOW_PROJECT_POPPER"),ne=Symbol("ADD_PROJECT"),ae=Symbol("UPDATE_MENU"),se=Symbol("RENDER_CONTENT"),oe=Symbol("REFRESH_CONTENT"),de=Symbol("REMOVE_PROJECT"),ce=Symbol("UPDATE_PROJECT"),re=Symbol("ADD_TASK"),ie=(Symbol("ADD_INBOX_TASK"),Symbol("REMOVE_INBOX_TASK"),Symbol("UPDATE_INBOX_TASK"),Symbol("REMOVE_TASK")),le=Symbol("UPDATE_TASK"),ue=Symbol("CHECK_TASK_COMPLETED"),me=Symbol("CHECK_TASK_NOT_COMPLETED"),pe=Symbol("TOGGLE_SHOW_COMPLETED"),he=Symbol("MOVE_TASK"),ve=e=>{const t=document.createElement("div");t.classList.add("header-wrapper");const n=document.createElement("div");n.classList.add("project-header"),e.getLayout()===w.BOARD?n.classList.add("grid-layout"):e.getLayout()===w.LIST&&n.classList.add("flex-layout");const a=document.createElement("h1");a.classList.add("project-title");const s=document.createElement("div");return s.classList.add("controls"),n.appendChild(a),n.appendChild(s),t.appendChild(n),t};var ge=n(834);const Le=(e,t)=>{const n=document.createElement("li");n.classList.add("priority-list-item"),n.dataset.priority=e.toLowerCase(),n.innerHTML='<svg\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              fill="none"\n              xmlns="http://www.w3.org/2000/svg"\n              class="priority-icon"\n            >\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z"\n                fill="currentColor"\n              ></path>\n            </svg>';const a=document.createElement("span");return a.classList.add("priority-name"),a.textContent=`Priority ${e.slice(1)}`,n.append(a),e===t&&(n.innerHTML+='<svg\n              xmlns="http://www.w3.org/2000/svg"\n              viewBox="0 0 12 12"\n              width="12"\n              height="12"\n              aria-hidden="true"\n              class="select-priority-checkmark"\n            >\n              <path\n                fill="currentColor"\n                fill-rule="evenodd"\n                d="M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"\n              ></path>\n            </svg>'),n},ye=e=>{e.currentTarget.remove()},Ee=()=>{const e=document.createElement("div");e.classList.add("form-field","task-priority"),e.dataset.priority=b.P4.toLowerCase();const t=document.createElement("button");t.classList.add("priority-btn"),t.setAttribute("type","button"),t.innerHTML='<svg\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  fill="none"\n                  xmlns="http://www.w3.org/2000/svg"\n                >\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M2 3a.5.5 0 01.276-.447C3.025 2.179 4.096 2 5.5 2c.901 0 1.485.135 2.658.526C9.235 2.885 9.735 3 10.5 3c1.263 0 2.192-.155 2.776-.447A.5.5 0 0114 3v6.5a.5.5 0 01-.276.447c-.749.375-1.82.553-3.224.553-.901 0-1.485-.135-2.658-.526C6.765 9.615 6.265 9.5 5.5 9.5c-1.08 0-1.915.113-2.5.329V13.5a.5.5 0 01-1 0V3zm1 5.779v-5.45C3.585 3.113 4.42 3 5.5 3c.765 0 1.265.115 2.342.474C9.015 3.865 9.599 4 10.5 4c1.002 0 1.834-.09 2.5-.279v5.45c-.585.216-1.42.329-2.5.329-.765 0-1.265-.115-2.342-.474C6.985 8.635 6.401 8.5 5.5 8.5c-1.001 0-1.834.09-2.5.279z"\n                    fill="currentColor"\n                  ></path>\n                </svg>';const n=t.firstElementChild,a=document.createElement("span");a.textContent="Priority";const s=document.createElement("button");return s.setAttribute("type","button"),s.classList.add("remove-priority-btn","hidden"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.854 11.854a.5.5 0 000-.708L8.707 8l3.147-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708 0z" fill="currentColor"></path></svg>',t.append(a),e.append(t,s),e.addEventListener("click",(()=>{const t=(e=>{const t=e.dataset.priority,n=document.createElement("div");n.classList.add("popper-overlay");const a=document.createElement("div");a.classList.add("popper","select-priority");const s=document.createElement("ul");s.classList.add("priority-list");const o=Le("p1",t),d=Le("p2",t),c=Le("p3",t),r=Le("p4",t);s.append(o,d,c,r),a.append(s),n.append(a);const i=()=>{const{top:t,left:n,width:s,height:o}=e.getBoundingClientRect(),d=n-(141-s)/2+"px",c=`${t+o}px`;a.style.transform=`translate(${d}, ${c})`,["resize","scroll"].forEach((e=>{window.addEventListener(e,i)}))};return i(),n.addEventListener("click",ye),((e,t)=>{const n=t,a=e.querySelectorAll(".priority-list-item"),s=n.firstElementChild.firstElementChild,o=n.firstElementChild.lastElementChild,d=n.lastElementChild;a.forEach((e=>{e.addEventListener("click",(()=>{const t=e.firstElementChild;a.forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected"),n.dataset.priority=e.dataset.priority;const{priority:c}=n.dataset;n.firstElementChild.replaceChild(t.cloneNode(!0),s),o.textContent=`P${c.slice(1)}`,d.classList.remove("hidden")}))}))})(s,e),n})(e);document.body.append(t)})),s.addEventListener("click",(o=>{o.stopPropagation(),s.classList.add("hidden"),e.dataset.priority=b.P4.toLowerCase(),t.replaceChild(n,t.firstElementChild),a.textContent="Priority"})),e},be=()=>{const e=document.createElement("div");e.classList.add("form-field","task-label");const t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("placeholder","Label"),t.setAttribute("name","task-label"),t.setAttribute("id","task-label"),t.setAttribute("autocomplete","on"),t.setAttribute("maxlength","100");const n=document.createElement("button");return n.classList.add("add-label-btn","hidden"),n.setAttribute("type","button"),n.innerHTML='<svg width="13" height="13">\n                  <path\n                    d="M6 6V.5a.5.5 0 011 0V6h5.5a.5.5 0 110 1H7v5.5a.5.5 0 11-1 0V7H.5a.5.5 0 010-1H6z"\n                    fill="currentColor"\n                    fill-rule="evenodd"\n                  ></path>\n                </svg>',e.append(t,n),t.addEventListener("input",(()=>{t.value.length>0?n.classList.remove("hidden"):n.classList.add("hidden")})),n.addEventListener("click",(()=>{if(t.value.length<=0)return;const e=document.querySelector(".task-labels"),a=t.value,s=document.querySelectorAll(".task-label");for(let e=0;e<s.length;e++)if(s[e].innerText===a)return;e.classList.contains("hidden")&&e.classList.remove("hidden");const o=(e=>{const t=document.createElement("div");t.classList.add("task-label"),t.innerHTML='<svg\n                xmlns="http://www.w3.org/2000/svg"\n                width="12"\n                height="12"\n                viewBox="0 0 12 12"\n              >\n                <path\n                  d="M9.357 1C10.264 1 11 1.736 11 2.643V6.07c0 .436-.173.854-.481 1.162L7.232 10.52a1.643 1.643 0 01-2.323 0L1.48 7.09c-.64-.64-.64-1.68.001-2.322L4.768 1.48C5.076 1.173 5.494 1 5.93 1h3.427zm-.07.91H5.93a.805.805 0 00-.569.235L2.145 5.362a.805.805 0 000 1.138L5.5 9.855a.805.805 0 001.138 0l3.217-3.217a.805.805 0 00.236-.569V2.713a.804.804 0 00-.804-.804zM7.364 3.726a.91.91 0 110 1.818.91.91 0 010-1.818z"\n                  fill="currentColor"\n                  fill-rule="evenodd"\n                ></path>\n              </svg>';const n=document.createElement("span");n.classList.add("label-name"),n.textContent=e;const a=document.createElement("button");return a.classList.add("remove-label-btn"),a.setAttribute("type","button"),a.innerHTML='<svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  fill="none"\n                >\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M11.854 11.854a.5.5 0 000-.708L8.707 8l3.147-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708 0z"\n                    fill="currentColor"\n                  ></path>\n                </svg>',t.append(n,a),a.addEventListener("click",(e=>{e.stopPropagation(),t.remove(),document.querySelector(".task-labels .task-label")||document.querySelector(".task-labels").classList.add("hidden")})),t})(a);e.append(o),t.value="",n.classList.add("hidden")})),e},we='<svg\n              xmlns="http://www.w3.org/2000/svg"\n              viewBox="0 0 12 12"\n              width="12"\n              height="12"\n              aria-hidden="true"\n              class="select-project-checkmark"\n            >\n              <path\n                fill="currentColor"\n                fill-rule="evenodd"\n                d="M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"\n              ></path>\n            </svg>',Ce='<svg\n                  color="#246fe0"\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  class="project_icon project_icon_inbox"\n                >\n                  <g fill="currentColor">\n                    <path\n                      d="M13.5 9.5V12a1.5 1.5 0 01-1.5 1.5H4A1.5 1.5 0 012.5 12V9.5h3.75a1.75 1.75 0 003.5 0h3.75z"\n                      opacity="0.1"\n                    ></path>\n                    <path\n                      d="M10.491 2a2 2 0 011.923 1.45l1.509 5.28a2 2 0 01.077.55V12a2 2 0 01-2 2H4a2 2 0 01-2-2V9.28a2 2 0 01.077-.55l1.509-5.28A2 2 0 015.509 2h4.982zm0 1H5.51a1 1 0 00-.962.725l-1.509 5.28A1 1 0 003 9.28V12a1 1 0 001 1h8a1 1 0 001-1V9.28a1 1 0 00-.038-.275l-1.51-5.28a1 1 0 00-.96-.725zM6.25 9a.5.5 0 01.5.5 1.25 1.25 0 002.5 0 .5.5 0 01.5-.5h1.75a.5.5 0 110 1h-1.306a2.25 2.25 0 01-4.388 0H4.5a.5.5 0 010-1z"\n                    ></path>\n                  </g>\n                </svg>',ke=e=>{const t=e.getCurrentProject(),n=document.createElement("div");n.classList.add("form-field","task-project"),n.dataset.project=t??"inbox";const a=document.createElement("button");a.classList.add("task-project-btn"),a.setAttribute("type","button");const s=document.createElement("span");s.classList.add("project-icon");const o=document.createElement("span");if(o.classList.add("project-name"),t){const n=e.getProject(t),a=n.getColor(),d=document.createElement("div");d.classList.add("project-color"),d.style.backgroundColor=a,s.append(d),o.textContent=n.getTitle()}else s.innerHTML=Ce,o.textContent="Inbox";return a.append(s,o),a.innerHTML+='<svg\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  fill="none"\n                  xmlns="http://www.w3.org/2000/svg"\n                  aria-hidden="true"\n                >\n                  <path\n                    d="M7.646 9.646L4.854 6.854A.5.5 0 015.207 6h5.586a.5.5 0 01.353.854L8.354 9.646a.5.5 0 01-.708 0z"\n                    fill="currentColor"\n                  ></path>\n                </svg>',n.append(a),n.addEventListener("click",(()=>{n.classList.add("active"),(()=>{const t=((e,t)=>{const n=t.dataset.project,a=document.createElement("div");a.classList.add("popper-overlay");const s=document.createElement("div");s.classList.add("popper","select-project");const o=document.createElement("ul");o.classList.add("project-list");const d=(e=>{const t=document.createElement("li");t.classList.add("project-list-item"),t.dataset.project="inbox";const n=document.createElement("span");n.classList.add("project-icon"),n.innerHTML=Ce;const a=document.createElement("span");return a.classList.add("project-name"),a.textContent="Inbox","inbox"===e&&t.classList.add("selected"),t.append(n,a),t.innerHTML+=we,t})(n),c=e.getProjects().map((e=>{const t=((e,t)=>{const n=document.createElement("li");n.classList.add("project-list-item"),n.dataset.project=e.getId();const a=document.createElement("span");a.classList.add("project-icon");const s=e.getColor(),o=document.createElement("div");o.classList.add("project-color"),o.style.backgroundColor=s;const d=document.createElement("span");return d.classList.add("project-name"),d.textContent=e.getTitle(),e.getId()===t&&n.classList.add("selected"),a.append(o),n.append(a,d),n.innerHTML+=we,n})(e,n);return t}));o.append(d,...c),s.append(o),a.append(s);const r=()=>{const{top:e,left:n,width:a,height:o}=t.getBoundingClientRect(),d=n-(240-a)/2+"px",c=`${e+o}px`;s.style.transform=`translate(${d}, ${c})`,["resize","scroll"].forEach((e=>{window.addEventListener(e,r)}))};return r(),a.addEventListener("click",(e=>{t.classList.remove("active"),(e=>{e.currentTarget.remove()})(e)})),(()=>{const e=t,n=e.querySelector(".project-icon"),a=e.querySelector(".project-name");[d,...c].forEach((t=>{t.addEventListener("click",(()=>{const s=t.querySelector(".project-icon"),o=t.querySelector(".project-name"),d=t.dataset.project;e.dataset.project=d,c.forEach((e=>{e.classList.remove("selected")})),t.classList.add("selected"),e.firstElementChild.replaceChild(s.cloneNode(!0),n),a.textContent=o.textContent}))}))})(),a})(e,n);document.body.append(t)})()})),n};function fe(){const{value:e}=document.querySelector("textarea#task-name"),{length:t}=e,n=document.querySelector(".submit-btn"),a=document.querySelector(".char-limit");t>0&&t<500?n.removeAttribute("disabled"):n.setAttribute("disabled",!0),t>=500?(a.classList.remove("hidden"),a.classList.add("task-name-over-limit"),a.textContent=`Task name character limit: ${t}/500`):(a.classList.add("hidden"),a.classList.remove("task-name-over-limit"),a.classList.contains("task-description-over-limit")&&xe())}function xe(){const{value:e}=document.querySelector("#task-description"),{length:t}=e,n=document.querySelector(".char-limit");t>=1e4?(n.classList.remove("hidden"),n.classList.add("task-description-over-limit"),n.textContent=`Task description character limit: ${t}/10000`):(n.classList.add("hidden"),n.classList.remove("task-description-over-limit"),n.classList.contains("task-name-over-limit")&&fe())}const Te=e=>{const t=document.createElement("form");t.classList.add("task-modal__form");const n=function(){const e=document.createElement("div");e.classList.add("form-editor");const t=(()=>{const e=document.createElement("div");e.classList.add("form-field","task-name");const t=document.createElement("textarea");t.setAttribute("type","text"),t.setAttribute("id","task-name"),t.setAttribute("name","task-name"),t.setAttribute("placeholder","Task name"),t.setAttribute("required",!0),t.setAttribute("autocomplete","off"),t.setAttribute("autofocus",!0);const n=document.createElement("label");return n.setAttribute("for","task-name"),n.innerText="Task name",n.style.display="none",e.append(t,n),t.addEventListener("input",(()=>{t.style.height="0",t.style.height=`${t.scrollHeight}px`})),e})(),n=(()=>{const e=document.createElement("div");e.classList.add("form-field","task-description");const t=document.createElement("label");t.setAttribute("for","task-description"),t.textContent="Description",t.style.display="none";const n=document.createElement("textarea");return n.setAttribute("id","task-description"),n.setAttribute("name","task-description"),n.setAttribute("placeholder","Description"),e.appendChild(n,t),n.addEventListener("input",(()=>{n.style.height="0",n.style.height=`${n.scrollHeight}px`})),e})();return e.append(t,n),["input","focus"].forEach((e=>{t.addEventListener(e,fe,!0),n.addEventListener(e,xe,!0)})),e}(),a=document.createElement("span");a.classList.add("char-limit","hidden");const s=function(){const e=document.createElement("div");return e.classList.add("task-labels","hidden"),e}(),o=function(){const e=document.createElement("div");return e.classList.add("fields-wrapper"),e.append((()=>{const e=document.createElement("div");e.classList.add("form-field","task-due-date");const t=document.createElement("button");t.classList.add("due-date-btn"),t.classList.add("no-due-date"),t.setAttribute("type","button"),t.innerHTML='<svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                >\n                  <path\n                    fill="currentColor"\n                    d="M12 2a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2h8zm0 1H4a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V4a1 1 0 00-1-1zm-1.25 7a.75.75 0 110 1.5.75.75 0 010-1.5zm.75-5a.5.5 0 110 1h-7a.5.5 0 010-1h7z"\n                  ></path>\n                </svg>';const n=document.createElement("span");n.classList.add("btn-text"),n.textContent="Due date",t.appendChild(n);const a=document.createElement("input");a.setAttribute("type","date"),a.setAttribute("name","task-due-date"),a.setAttribute("id","task-due-date"),a.setAttribute("min",(0,ge.Z)().toISOString().split("T")[0]),a.setAttribute("value","");const s=document.createElement("button");return s.setAttribute("type","button"),s.classList.add("remove-due-date-btn","hidden"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.854 11.854a.5.5 0 000-.708L8.707 8l3.147-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708 0z" fill="currentColor"></path></svg>',e.append(t,a,s),s.addEventListener("click",(()=>{a.value="",t.classList.add("no-due-date"),t.classList.remove("due-date-today","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),n.textContent="Due date",s.classList.add("hidden")})),a.addEventListener("change",(()=>{const e=new Date,o=(0,L.Z)(e,1);""===a.value?(t.classList.add("no-due-date"),t.classList.remove("due-date-today","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),n.textContent="Due date"):(0,A.Z)(new Date(a.value))?(t.classList.add("due-date-today"),t.classList.remove("no-due-date","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),n.textContent="Today",s.classList.remove("hidden")):(0,j.Z)(new Date(a.value))?(t.classList.add("due-date-tomorrow"),t.classList.remove("no-due-date","due-date-today","due-date-upcoming","due-date-within-next-week"),n.textContent="Tomorrow",s.classList.remove("hidden")):(0,S.Z)(new Date(a.value),{start:e,end:o})?(t.classList.add("due-date-within-next-week"),t.classList.remove("no-due-date","due-date-today","due-date-tomorrow","due-date-upcoming"),n.textContent=(0,y.Z)(new Date(a.value),"EEEE"),s.classList.remove("hidden")):(t.classList.add("due-date-upcoming"),t.classList.remove("no-due-date","due-date-today","due-date-tomorrow","due-date-within-next-week"),n.textContent=(0,y.Z)(new Date(a.value),"MMM d"),s.classList.remove("hidden"))})),e})(),Ee(),be()),e}(),d=function(e){const t=document.createElement("div");t.classList.add("modal-footer");const n=document.createElement("div");n.classList.add("action-btns");const a=document.createElement("button");a.classList.add("cancel-btn"),a.setAttribute("type","button"),a.innerText="Cancel";const s=document.createElement("button");s.classList.add("submit-btn"),s.setAttribute("type","submit"),s.setAttribute("disabled",!0),s.innerText="Add",n.append(a,s),t.append(ke(e),n);const o=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".task-modal");t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()}))};return a.addEventListener("click",o),s.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector("textarea#task-name").value,n=document.querySelector("#task-description").value,{priority:a}=document.querySelector(".task-priority").dataset,{project:s}=document.querySelector(".task-project").dataset,d=document.querySelector("input#task-due-date").value,c=document.querySelectorAll(".task-labels .task-label .label-name");if(""===t||t.length>500||n.length>1e4)return;const r={title:t,description:n,priority:a.toUpperCase(),dueDate:""===d?null:new Date(d),projectId:"inbox"===s?null:s,labels:[...c].map((e=>e.textContent)),createdDate:new Date};X(re,r),o()})),t}(e);return t.append(n,a,s,o,d),t},Ae=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".confirmation-dialog__modal");t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()}))},je=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".confirmation-dialog__modal");t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()}))},Se=(e,t,n)=>{const a=document.createElement("div");a.classList.add("modal-overlay","confirmation-dialog");const s=document.createElement("div");s.classList.add("confirmation-dialog__modal");const o=(()=>{const e=document.createElement("div");e.classList.add("modal-header"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M12 3a9 9 0 110 18 9 9 0 010-18zm0 1a8 8 0 100 16 8 8 0 000-16zm.5 6a.5.5 0 01.5.5V15h1a.5.5 0 110 1h-3a.5.5 0 110-1h1v-4h-1a.5.5 0 110-1h1.5zm-.16-2.68a.84.84 0 110 1.68.84.84 0 010-1.68z"></path></svg>';const t=document.createElement("button");return t.classList.add("modal-header__cancel-btn"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M5.146 5.146a.5.5 0 0 1 .708 0L12 11.293l6.146-6.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 0 .708L12.707 12l6.147 6.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.708 0L12 12.707l-6.146 6.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1 0-.708L11.293 12 5.146 5.854a.5.5 0 0 1-.057-.638z"></path></svg>',e.append(t),t.addEventListener("click",(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".confirmation-dialog__modal");t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()}))})),e})(),d=document.createElement("div");let c;return d.classList.add("confirmation-dialog__message"),d.innerHTML=e,"task"===n?c=(e=>{const t=document.createElement("footer");t.classList.add("modal-footer");const n=document.createElement("button");n.classList.add("cancel-btn"),n.setAttribute("type","button"),n.innerText="Cancel";const a=document.createElement("button");return a.classList.add("submit-btn"),a.setAttribute("type","submit"),a.innerText="Delete",t.append(n,a),n.addEventListener("click",Ae),a.addEventListener("click",(t=>{t.preventDefault(),Ae(),X(ie,e)})),t})(t):"project"===n&&(c=(e=>{const t=document.createElement("footer");t.classList.add("modal-footer");const n=document.createElement("button");n.classList.add("cancel-btn"),n.setAttribute("type","button"),n.innerText="Cancel";const a=document.createElement("button");return a.classList.add("submit-btn"),a.setAttribute("type","submit"),a.innerText="Delete",t.append(n,a),n.addEventListener("click",je),a.addEventListener("click",(t=>{t.preventDefault(),je(),X(de,e)})),t})(t)),s.append(o,d,c),a.append(s),a.addEventListener("click",(e=>{e.target.classList.contains("modal-overlay")&&(s.classList.add("hidden"),s.addEventListener("animationend",(()=>{a.remove()})))})),a},Me=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".project-modal");t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()}))},De=e=>{const t=document.createElement("label");t.classList.add("view-radio-option"),t.setAttribute("for",e),t.setAttribute("data-layout",e);const n=document.createElement("div");n.classList.add(`${e}-preview`);const a=document.createElement("div");a.classList.add("option");const s=document.createElement("button");s.classList.add("checkbox-circle"),s.setAttribute("type","button"),s.innerHTML='<svg>\n                      <path\n                        fill="currentColor"\n                        d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z"\n                      ></path>\n                    </svg>';const o=document.createElement("label");return o.setAttribute("for",e),o.textContent=e.charAt(0).toUpperCase()+e.slice(1),a.append(s,o),t.append(n,a),t},Ie=e=>{const t=e.getCurrentProject();let n;n=t?e.getProject(t):e.getInbox();const a=document.createElement("form");a.classList.add("project-modal__form");const s=(e=>{const t=document.createElement("div");t.classList.add("form-field");const n=document.createElement("label");n.setAttribute("for","project-name"),n.textContent="Name";const a=document.createElement("span");a.classList.add("char-limit","hidden"),n.append(a);const s=document.createElement("input");return s.setAttribute("type","text"),s.setAttribute("id","project-name"),s.setAttribute("name","project-name"),s.setAttribute("autocomplete","on"),s.setAttribute("maxlength",120),s.setAttribute("required",!0),s.setAttribute("autofocus",!0),s.value=e.getTitle(),t.append(n,s),t.addEventListener("input",(e=>{const{value:t}=e.target,{length:n}=t,{maxLength:s}=e.target,o=document.querySelector(".submit-btn");n>0&&n<s?o.removeAttribute("disabled"):o.setAttribute("disabled",!0),n>=s-10&&n<=s?(a.classList.remove("hidden"),a.textContent=`Character limit: ${n}/${s}`):a.classList.add("hidden")})),t})(n),o=(e=>{const t=document.createElement("div");t.classList.add("form-field");const n=document.createElement("label");n.setAttribute("for","project-color"),n.textContent="Color";const a=document.createElement("div");a.classList.add("color-picker");const s=document.createElement("input");return s.setAttribute("type","color"),s.setAttribute("id","project-color"),s.setAttribute("name","project-color"),s.setAttribute("value","#808080"),s.value=e.getColor(),a.append(s),t.append(n,a),t})(n),d=(e=>{const t=document.createElement("div");t.classList.add("form-field");const n=document.createElement("div");n.classList.add("favorite-switch");const a=document.createElement("input");a.setAttribute("type","checkbox"),a.setAttribute("id","is-favorite"),a.setAttribute("name","is-favorite");const s=document.createElement("span");s.classList.add("switch-handle"),n.append(a,s);const o=document.createElement("label");return o.textContent="Add to favorites",t.append(n,o),t.addEventListener("click",(()=>{a.checked=!a.checked,n.classList.toggle("checked")})),e.isFavorite()?(a.checked=!0,n.classList.add("checked")):(a.checked=!1,n.classList.remove("checked")),t})(n),c=(e=>{const t=document.createElement("div");t.classList.add("form-field");const n=document.createElement("label");n.setAttribute("for","project-view"),n.textContent="View";const a=document.createElement("div");a.classList.add("view-radio-group");const s=De("list");s.classList.add("checked");const o=De("board");return a.append(s,o),t.append(n,a),s.addEventListener("click",(()=>{s.classList.add("checked"),o.classList.remove("checked")})),o.addEventListener("click",(()=>{o.classList.add("checked"),s.classList.remove("checked")})),e.getView().getLayout()===w.LIST?(s.classList.add("checked"),o.classList.remove("checked")):(o.classList.add("checked"),s.classList.remove("checked")),t})(n);return a.append(s,o,d,c),a},_e=e=>{const t=document.createElement("div");t.classList.add("modal-overlay","edit-project");const n=document.createElement("div");n.classList.add("project-modal");const a=(()=>{const e=document.createElement("div");return e.classList.add("modal-header"),e.textContent="Edit Project",e})(),s=Ie(e),o=(e=>{const t=e.getCurrentProject(),n=document.createElement("footer");n.classList.add("modal-footer");const a=document.createElement("button");a.classList.add("cancel-btn"),a.setAttribute("type","button"),a.innerText="Cancel";const s=document.createElement("button");return s.classList.add("submit-btn"),s.setAttribute("type","submit"),s.innerText="Save",n.append(a,s),a.addEventListener("click",Me),s.addEventListener("click",(e=>{e.preventDefault(),Me();const n=document.querySelector("#project-name").value,a=document.querySelector("#project-color").value,s=document.querySelector("#is-favorite").checked,{layout:o}=document.querySelector(".view-radio-option.checked").dataset,d={title:n,color:a,favorite:s,view:{layout:o.toUpperCase()}};X(ce,{id:t,project:d})})),n})(e);return n.append(a,s,o),t.append(n),t.addEventListener("click",(e=>{e.target.classList.contains("modal-overlay")&&(n.classList.add("hidden"),n.addEventListener("animationend",(()=>{t.remove()})))})),t},Pe=e=>{const{title:t,icon:n}=e,a=document.createElement("button");a.classList.add(`${t}-btn`);const s=document.createElement("span");s.classList.add(`${t}-icon`),s.innerHTML=n;const o=document.createElement("span");return o.classList.add("btn-text"),o.textContent=`${t.charAt(0).toUpperCase()}${t.slice(1)}`,a.appendChild(s),a.appendChild(o),a},Ve=e=>{const t=Pe({title:"add-task",icon:'<svg width="13" height="13">\n                  <path\n                    d="M6 6V.5a.5.5 0 011 0V6h5.5a.5.5 0 110 1H7v5.5a.5.5 0 11-1 0V7H.5a.5.5 0 010-1H6z"\n                    fill="currentColor"\n                    fill-rule="evenodd"\n                  ></path>\n                </svg>'});return t.addEventListener("click",(()=>{const t=(e=>{const t=document.createElement("div");t.classList.add("modal-overlay","add-task");const n=document.createElement("div");n.classList.add("task-modal");const a=Te(e);return n.append(a),t.append(n),t.addEventListener("click",(e=>{e.target.classList.contains("modal-overlay")&&(n.classList.add("hidden"),n.addEventListener("animationend",(()=>{t.remove()})))})),t})(e);document.body.appendChild(t)})),t},ze=e=>{const t=e.getCurrentProject();let n;n=t?e.getProject(t):e.getInbox();const a={title:n.isShowCompleted()?"Hide-completed":"Show-completed",icon:n.isShowCompleted()?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21a9 9 0 110-18 9 9 0 010 18zm0-1a8 8 0 100-16 8 8 0 000 16zm3.854-11.854a.5.5 0 00-.708 0l-7 7a.5.5 0 00.708.708l7-7a.5.5 0 000-.708z" fill="currentColor"></path></svg>':'<svg\n                width="24"\n                height="24"\n                viewBox="0 0 24 24"\n                fill="none"\n                xmlns="http://www.w3.org/2000/svg"\n              >\n                <path\n                  fill-rule="evenodd"\n                  clip-rule="evenodd"\n                  d="M12 21a9 9 0 100-18 9 9 0 000 18zm0-1a8 8 0 110-16 8 8 0 010 16zm-4.354-8.104a.5.5 0 01.708 0l2.146 2.147 5.146-5.147a.5.5 0 01.708.708l-5.5 5.5a.5.5 0 01-.708 0l-2.5-2.5a.5.5 0 010-.708z"\n                  fill="currentColor"\n                ></path>\n              </svg>'},s=Pe(a);return s.addEventListener("click",(()=>{n.toggleShowCompleted(),X(pe)})),s},He=()=>Pe({title:"view",icon:'<svg\n                xmlns="http://www.w3.org/2000/svg"\n                width="24"\n                height="24"\n                viewBox="0 0 24 24"\n              >\n                <path\n                  d="M15 14.5a2 2 0 011.936 1.498L19.5 16a.5.5 0 010 1l-2.563.001a2.001 2.001 0 01-3.874 0L4.5 17a.5.5 0 010-1l8.564-.002A2 2 0 0115 14.5zm-.982 1.81l.005-.025-.005.026-.003.014-.004.025-.007.061A.897.897 0 0014 16.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06A.877.877 0 0016 16.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026a.998.998 0 00-1.843.043l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047zM9 9.5a2 2 0 011.936 1.498L19.5 11a.5.5 0 010 1l-8.563.001a2.001 2.001 0 01-3.874 0L4.5 12a.5.5 0 010-1l2.564-.002A2 2 0 019 9.5zm0 1a.998.998 0 00-.93.634l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047.005-.025-.005.026-.003.014-.004.025-.007.061C8 11.441 8 11.471 8 11.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06A.877.877 0 0010 11.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026A1.002 1.002 0 009 10.5zm6-6a2 2 0 011.936 1.498L19.5 6a.5.5 0 010 1l-2.563.001a2.001 2.001 0 01-3.874 0L4.5 7a.5.5 0 010-1l8.564-.002A2 2 0 0115 4.5zm0 1a.998.998 0 00-.93.634l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047.005-.025-.005.026-.003.014-.004.025-.007.061C14 6.441 14 6.471 14 6.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06C16 6.557 16 6.528 16 6.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026A1.002 1.002 0 0015 5.5z"\n                  fill="currentColor"\n                  fill-rule="nonzero"\n                ></path>\n              </svg>'});var qe=n(474);const Oe=(e,t)=>{const n=document.createElement("li");n.classList.add("priority-list-item"),n.dataset.priority=e.toLowerCase(),n.innerHTML='<svg\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              fill="none"\n              xmlns="http://www.w3.org/2000/svg"\n              class="priority-icon"\n            >\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z"\n                fill="currentColor"\n              ></path>\n            </svg>';const a=document.createElement("span");return a.classList.add("priority-name"),a.textContent=`Priority ${e.slice(1)}`,n.append(a),e===t&&(n.innerHTML+='<svg\n              xmlns="http://www.w3.org/2000/svg"\n              viewBox="0 0 12 12"\n              width="12"\n              height="12"\n              aria-hidden="true"\n              class="select-priority-checkmark"\n            >\n              <path\n                fill="currentColor"\n                fill-rule="evenodd"\n                d="M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"\n              ></path>\n            </svg>'),n},Be=e=>{e.currentTarget.remove()},$e=e=>{const t=document.createElement("div");t.classList.add("form-field","task-priority"),t.dataset.priority=e.getPriority().toLowerCase();const n=document.createElement("button");n.classList.add("priority-btn"),n.setAttribute("type","button"),n.innerHTML='<svg\n              width="24"\n              height="24"\n              viewBox="0 0 24 24"\n              fill="none"\n              xmlns="http://www.w3.org/2000/svg"\n              class="priority-icon"\n            >\n              <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z"\n                fill="currentColor"\n              ></path>\n            </svg>';const a=n.firstElementChild,s=document.createElement("span");s.textContent=e.getPriority();const o=document.createElement("button");return o.setAttribute("type","button"),o.classList.add("remove-priority-btn"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.854 11.854a.5.5 0 000-.708L8.707 8l3.147-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708 0z" fill="currentColor"></path></svg>',n.append(s),t.append(n,o),t.addEventListener("click",(()=>{const e=(e=>{const t=e.dataset.priority,n=document.createElement("div");n.classList.add("popper-overlay");const a=document.createElement("div");a.classList.add("popper","select-priority");const s=document.createElement("ul");s.classList.add("priority-list");const o=Oe("p1",t),d=Oe("p2",t),c=Oe("p3",t),r=Oe("p4",t);s.append(o,d,c,r),a.append(s),n.append(a);const i=()=>{const{top:t,left:n,width:s,height:o}=e.getBoundingClientRect(),d=n-(141-s)/2+"px",c=`${t+o}px`;a.style.transform=`translate(${d}, ${c})`,["resize","scroll"].forEach((e=>{window.addEventListener(e,i)}))};return i(),n.addEventListener("click",Be),((e,t)=>{const n=t,a=e.querySelectorAll(".priority-list-item"),s=n.firstElementChild.firstElementChild,o=n.firstElementChild.lastElementChild,d=n.lastElementChild;a.forEach((e=>{e.addEventListener("click",(()=>{const t=e.firstElementChild;a.forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected"),n.dataset.priority=e.dataset.priority;const{priority:c}=n.dataset;n.firstElementChild.replaceChild(t.cloneNode(!0),s),o.textContent=`P${c.slice(1)}`,d.classList.remove("hidden")}))}))})(s,e),n})(t);document.body.append(e)})),o.addEventListener("click",(e=>{e.stopPropagation(),o.classList.add("hidden"),t.dataset.priority=b.P4.toLowerCase(),n.replaceChild(a,n.firstElementChild),s.textContent="Priority"})),t},Ze=e=>{const t=document.createElement("div");t.classList.add("task-label"),t.innerHTML='<svg\n                xmlns="http://www.w3.org/2000/svg"\n                width="12"\n                height="12"\n                viewBox="0 0 12 12"\n              >\n                <path\n                  d="M9.357 1C10.264 1 11 1.736 11 2.643V6.07c0 .436-.173.854-.481 1.162L7.232 10.52a1.643 1.643 0 01-2.323 0L1.48 7.09c-.64-.64-.64-1.68.001-2.322L4.768 1.48C5.076 1.173 5.494 1 5.93 1h3.427zm-.07.91H5.93a.805.805 0 00-.569.235L2.145 5.362a.805.805 0 000 1.138L5.5 9.855a.805.805 0 001.138 0l3.217-3.217a.805.805 0 00.236-.569V2.713a.804.804 0 00-.804-.804zM7.364 3.726a.91.91 0 110 1.818.91.91 0 010-1.818z"\n                  fill="currentColor"\n                  fill-rule="evenodd"\n                ></path>\n              </svg>';const n=document.createElement("span");n.classList.add("label-name"),n.textContent=e;const a=document.createElement("button");return a.classList.add("remove-label-btn"),a.setAttribute("type","button"),a.innerHTML='<svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  fill="none"\n                >\n                  <path\n                    fill-rule="evenodd"\n                    clip-rule="evenodd"\n                    d="M11.854 11.854a.5.5 0 000-.708L8.707 8l3.147-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708 0z"\n                    fill="currentColor"\n                  ></path>\n                </svg>',t.append(n,a),a.addEventListener("click",(e=>{e.stopPropagation(),t.remove(),document.querySelector(".task-labels .task-label")||document.querySelector(".task-labels").classList.add("hidden")})),t},Re='<svg\n              xmlns="http://www.w3.org/2000/svg"\n              viewBox="0 0 12 12"\n              width="12"\n              height="12"\n              aria-hidden="true"\n              class="select-project-checkmark"\n            >\n              <path\n                fill="currentColor"\n                fill-rule="evenodd"\n                d="M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"\n              ></path>\n            </svg>',Ue='<svg\n                  color="#246fe0"\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  class="project_icon project_icon_inbox"\n                >\n                  <g fill="currentColor">\n                    <path\n                      d="M13.5 9.5V12a1.5 1.5 0 01-1.5 1.5H4A1.5 1.5 0 012.5 12V9.5h3.75a1.75 1.75 0 003.5 0h3.75z"\n                      opacity="0.1"\n                    ></path>\n                    <path\n                      d="M10.491 2a2 2 0 011.923 1.45l1.509 5.28a2 2 0 01.077.55V12a2 2 0 01-2 2H4a2 2 0 01-2-2V9.28a2 2 0 01.077-.55l1.509-5.28A2 2 0 015.509 2h4.982zm0 1H5.51a1 1 0 00-.962.725l-1.509 5.28A1 1 0 003 9.28V12a1 1 0 001 1h8a1 1 0 001-1V9.28a1 1 0 00-.038-.275l-1.51-5.28a1 1 0 00-.96-.725zM6.25 9a.5.5 0 01.5.5 1.25 1.25 0 002.5 0 .5.5 0 01.5-.5h1.75a.5.5 0 110 1h-1.306a2.25 2.25 0 01-4.388 0H4.5a.5.5 0 010-1z"\n                    ></path>\n                  </g>\n                </svg>',Ne=(e,t)=>{const n=t.getCurrentProject(),a=document.createElement("div");a.classList.add("form-field","task-project"),a.dataset.project=n??"inbox";const s=document.createElement("button");s.classList.add("task-project-btn"),s.setAttribute("type","button");const o=document.createElement("span");o.classList.add("project-icon");const d=document.createElement("span");if(d.classList.add("project-name"),n){const e=t.getProject(n),a=e.getColor(),s=document.createElement("div");s.classList.add("project-color"),s.style.backgroundColor=a,o.append(s),d.textContent=e.getTitle()}else o.innerHTML=Ue,d.textContent="Inbox";return s.append(o,d),s.innerHTML+='<svg\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  fill="none"\n                  xmlns="http://www.w3.org/2000/svg"\n                  aria-hidden="true"\n                >\n                  <path\n                    d="M7.646 9.646L4.854 6.854A.5.5 0 015.207 6h5.586a.5.5 0 01.353.854L8.354 9.646a.5.5 0 01-.708 0z"\n                    fill="currentColor"\n                  ></path>\n                </svg>',a.append(s),a.addEventListener("click",(()=>{a.classList.add("active"),(()=>{const e=((e,t)=>{const n=t.dataset.project,a=document.createElement("div");a.classList.add("popper-overlay");const s=document.createElement("div");s.classList.add("popper","select-project");const o=document.createElement("ul");o.classList.add("project-list");const d=(e=>{const t=document.createElement("li");t.classList.add("project-list-item"),t.dataset.project="inbox";const n=document.createElement("span");n.classList.add("project-icon"),n.innerHTML=Ue;const a=document.createElement("span");return a.classList.add("project-name"),a.textContent="Inbox","inbox"===e&&t.classList.add("selected"),t.append(n,a),t.innerHTML+=Re,t})(n),c=e.getProjects().map((e=>{const t=((e,t)=>{const n=document.createElement("li");n.classList.add("project-list-item"),n.dataset.project=e.getId();const a=document.createElement("span");a.classList.add("project-icon");const s=e.getColor(),o=document.createElement("div");o.classList.add("project-color"),o.style.backgroundColor=s;const d=document.createElement("span");return d.classList.add("project-name"),d.textContent=e.getTitle(),e.getId()===t&&n.classList.add("selected"),a.append(o),n.append(a,d),n.innerHTML+=Re,n})(e,n);return t}));o.append(d,...c),s.append(o),a.append(s);const r=()=>{const{top:e,left:n,width:a,height:o}=t.getBoundingClientRect(),d=n-(240-a)/2+"px",c=`${e+o}px`;s.style.transform=`translate(${d}, ${c})`,["resize","scroll"].forEach((e=>{window.addEventListener(e,r)}))};return r(),a.addEventListener("click",(e=>{t.classList.remove("active"),(e=>{e.currentTarget.remove()})(e)})),(()=>{const e=t,n=e.querySelector(".project-icon"),a=e.querySelector(".project-name");[d,...c].forEach((t=>{t.addEventListener("click",(()=>{const s=t.querySelector(".project-icon"),o=t.querySelector(".project-name"),d=t.dataset.project;e.dataset.project=d,c.forEach((e=>{e.classList.remove("selected")})),t.classList.add("selected"),e.firstElementChild.replaceChild(s.cloneNode(!0),n),a.textContent=o.textContent}))}))})(),a})(t,a);document.body.append(e)})()})),a};function Je(){const{value:e}=document.querySelector("textarea#task-name"),{length:t}=e,n=document.querySelector(".submit-btn"),a=document.querySelector(".char-limit");t>0&&t<500?n.removeAttribute("disabled"):n.setAttribute("disabled",!0),t>=500?(a.classList.remove("hidden"),a.classList.add("task-name-over-limit"),a.textContent=`Task name character limit: ${t}/500`):(a.classList.add("hidden"),a.classList.remove("task-name-over-limit"),a.classList.contains("task-description-over-limit")&&Ke())}function Ke(){const{value:e}=document.querySelector("#task-description"),{length:t}=e,n=document.querySelector(".char-limit");t>=1e4?(n.classList.remove("hidden"),n.classList.add("task-description-over-limit"),n.textContent=`Task description character limit: ${t}/10000`):(n.classList.add("hidden"),n.classList.remove("task-description-over-limit"),n.classList.contains("task-name-over-limit")&&Je())}const We=(e,t)=>{const n=document.createElement("form");n.classList.add("task-modal__form");const a=function(e){const t=document.createElement("div");t.classList.add("form-editor");const n=(e=>{const t=document.createElement("div");t.classList.add("form-field","task-name");const n=document.createElement("textarea");n.setAttribute("type","text"),n.setAttribute("id","task-name"),n.setAttribute("name","task-name"),n.setAttribute("placeholder","Task name"),n.setAttribute("required",!0),n.setAttribute("autocomplete","off"),n.setAttribute("autofocus",!0);const a=document.createElement("label");return a.setAttribute("for","task-name"),a.innerText="Task name",a.style.display="none",t.append(n,a),n.addEventListener("input",(()=>{n.style.height="0",n.style.height=`${n.scrollHeight}px`})),n.innerText=e.getTitle(),t})(e),a=(e=>{const t=document.createElement("div");t.classList.add("form-field","task-description");const n=document.createElement("label");n.setAttribute("for","task-description"),n.textContent="Description",n.style.display="none";const a=document.createElement("textarea");return a.setAttribute("id","task-description"),a.setAttribute("name","task-description"),a.setAttribute("placeholder","Description"),t.appendChild(a,n),a.addEventListener("input",(()=>{a.style.height="0",a.style.height=`${a.scrollHeight}px`})),a.innerText=e.getDescription(),t})(e);return t.append(n,a),["input","focus"].forEach((e=>{n.addEventListener(e,Je,!0),a.addEventListener(e,Ke,!0)})),t}(e),s=document.createElement("span");s.classList.add("char-limit","hidden");const o=function(e){const t=document.createElement("div");return t.classList.add("task-labels"),0===e.getLabels().length?t.classList.add("hidden"):e.getLabels().forEach((e=>{const n=Ze(e);t.append(n)})),t}(e),d=function(e){const t=document.createElement("div");return t.classList.add("fields-wrapper"),t.append((e=>{const t=document.createElement("div");t.classList.add("form-field","task-due-date");const n=document.createElement("button");n.classList.add("due-date-btn"),n.classList.add("no-due-date"),n.setAttribute("type","button"),n.innerHTML='<svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                >\n                  <path\n                    fill="currentColor"\n                    d="M12 2a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2h8zm0 1H4a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V4a1 1 0 00-1-1zm-1.25 7a.75.75 0 110 1.5.75.75 0 010-1.5zm.75-5a.5.5 0 110 1h-7a.5.5 0 010-1h7z"\n                  ></path>\n                </svg>';const a=document.createElement("span");a.classList.add("btn-text"),a.textContent="Due date",n.appendChild(a);const s=document.createElement("input");s.setAttribute("type","date"),s.setAttribute("name","task-due-date"),s.setAttribute("id","task-due-date"),s.setAttribute("min",(0,ge.Z)().toISOString().split("T")[0]),s.setAttribute("value","");const o=document.createElement("button");return o.setAttribute("type","button"),o.classList.add("remove-due-date-btn","hidden"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.854 11.854a.5.5 0 000-.708L8.707 8l3.147-3.146a.5.5 0 00-.708-.708L8 7.293 4.854 4.146a.5.5 0 10-.708.708L7.293 8l-3.147 3.146a.5.5 0 00.708.708L8 8.707l3.146 3.147a.5.5 0 00.708 0z" fill="currentColor"></path></svg>',t.append(n,s,o),o.addEventListener("click",(()=>{s.value="",n.classList.add("no-due-date"),n.classList.remove("due-date-today","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),a.textContent="Due date",o.classList.add("hidden")})),s.addEventListener("change",(()=>{const e=new Date,t=(0,L.Z)(e,1);""===s.value?(n.classList.add("no-due-date"),n.classList.remove("due-date-today","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),a.textContent="Due date"):(0,A.Z)(new Date(s.value))?(n.classList.add("due-date-today"),n.classList.remove("no-due-date","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),a.textContent="Today",o.classList.remove("hidden")):(0,j.Z)(new Date(s.value))?(n.classList.add("due-date-tomorrow"),n.classList.remove("no-due-date","due-date-today","due-date-upcoming","due-date-within-next-week"),a.textContent="Tomorrow",o.classList.remove("hidden")):(0,S.Z)(new Date(s.value),{start:e,end:t})?(n.classList.add("due-date-within-next-week"),n.classList.remove("no-due-date","due-date-today","due-date-tomorrow","due-date-upcoming"),a.textContent=(0,y.Z)(new Date(s.value),"EEEE"),o.classList.remove("hidden")):(n.classList.add("due-date-upcoming"),n.classList.remove("no-due-date","due-date-today","due-date-tomorrow","due-date-within-next-week"),a.textContent=(0,y.Z)(new Date(s.value),"MMM d"),o.classList.remove("hidden"))})),(e=>{const t=new Date,d=(0,L.Z)(t,1);null===e?(n.classList.add("no-due-date"),n.classList.remove("due-date-today","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),a.textContent="Due date"):(0,A.Z)(e)?(n.classList.add("due-date-today"),n.classList.remove("no-due-date","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),a.textContent="Today",o.classList.remove("hidden")):(0,j.Z)(e)?(n.classList.add("due-date-tomorrow"),n.classList.remove("no-due-date","due-date-today","due-date-upcoming","due-date-within-next-week"),a.textContent="Tomorrow",o.classList.remove("hidden")):(0,S.Z)(e,{start:t,end:d})?(n.classList.add("due-date-within-next-week"),n.classList.remove("no-due-date","due-date-today","due-date-tomorrow","due-date-upcoming"),a.textContent=(0,y.Z)(new Date(e),"EEEE"),o.classList.remove("hidden")):(n.classList.add("due-date-upcoming"),n.classList.remove("no-due-date","due-date-today","due-date-tomorrow","due-date-within-next-week"),a.textContent=(0,y.Z)(e,"MMM d"),o.classList.remove("hidden")),s.value=null===e?"":e.toISOString().split("T")[0]})(e.getDueDate()),t})(e),$e(e),(()=>{const e=document.createElement("div");e.classList.add("form-field","task-label");const t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("placeholder","Label"),t.setAttribute("name","task-label"),t.setAttribute("id","task-label"),t.setAttribute("autocomplete","on"),t.setAttribute("maxlength","100");const n=document.createElement("button");return n.classList.add("add-label-btn","hidden"),n.setAttribute("type","button"),n.innerHTML='<svg width="13" height="13">\n                  <path\n                    d="M6 6V.5a.5.5 0 011 0V6h5.5a.5.5 0 110 1H7v5.5a.5.5 0 11-1 0V7H.5a.5.5 0 010-1H6z"\n                    fill="currentColor"\n                    fill-rule="evenodd"\n                  ></path>\n                </svg>',e.append(t,n),t.addEventListener("input",(()=>{t.value.length>0?n.classList.remove("hidden"):n.classList.add("hidden")})),n.addEventListener("click",(()=>{if(t.value.length<=0)return;const e=document.querySelector(".task-labels"),a=t.value,s=document.querySelectorAll(".task-label");for(let e=0;e<s.length;e++)if(s[e].innerText===a)return;e.classList.contains("hidden")&&e.classList.remove("hidden");const o=Ze(a);e.append(o),t.value="",n.classList.add("hidden")})),e})()),t}(e),c=function(e,t){const n=document.createElement("div");n.classList.add("modal-footer");const a=document.createElement("div");a.classList.add("action-btns");const s=document.createElement("button");s.classList.add("cancel-btn"),s.setAttribute("type","button"),s.innerText="Cancel";const o=document.createElement("button");o.classList.add("submit-btn"),o.setAttribute("type","submit"),o.innerText="Save",a.append(s,o),n.append(Ne(0,t),a);const d=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".task-modal");t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()}))};return s.addEventListener("click",d),o.addEventListener("click",(t=>{t.preventDefault(),Je(),Ke();const n=document.querySelector("textarea#task-name").value,a=document.querySelector("#task-description").value,{priority:s}=document.querySelector(".task-priority").dataset,{project:o}=document.querySelector(".task-project").dataset,c=document.querySelector("input#task-due-date").value,r=document.querySelectorAll(".task-labels .task-label .label-name");if(""===n||n.length>500||a.length>1e4)return;const i={title:n,description:a,priority:s.toUpperCase(),dueDate:""===c?null:new Date(c),projectId:"inbox"===o?null:o,labels:[...r].map((e=>e.textContent)),createdDate:new Date};X(le,{id:e.getId(),task:i}),d()})),n}(e,t);return n.append(a,s,o,d,c),n},Fe=(e,t)=>{const n=document.createElement("div");n.classList.add("modal-overlay","edit-task");const a=document.createElement("div");a.classList.add("task-modal");const s=We(e,t);return a.append(s),n.append(a),n.addEventListener("click",(e=>{e.target.classList.contains("modal-overlay")&&(a.classList.add("hidden"),a.addEventListener("animationend",(()=>{n.remove()})))})),n},Ye=e=>{const{title:t,icon:n}=e,a=document.createElement("button");return a.classList.add(`task-controls-${t}`),a.innerHTML=n,a},Xe=(e,t)=>{const n=document.createElement("div");return n.classList.add("task-name-controls__task-controls"),n.appendChild(((e,t)=>{const n=Ye({title:"edit-task",icon:'<svg width="24" height="24">\n                          <g fill="none" fill-rule="evenodd">\n                            <path\n                              fill="currentColor"\n                              d="M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"\n                            ></path>\n                            <path\n                              stroke="currentColor"\n                              d="M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"\n                            ></path>\n                          </g>\n                        </svg>'});return n.addEventListener("click",(n=>{n.stopPropagation();const a=Fe(e,t);document.body.append(a)})),n})(e,t)),n.appendChild((e=>{const t=Ye({title:"move-task-to-project",icon:'<svg width="24" height="24">\n                          <g fill="none" transform="translate(4 4)">\n                            <circle\n                              cx="8"\n                              cy="8"\n                              r="7.5"\n                              stroke="currentColor"\n                            ></circle>\n                            <path\n                              fill="currentColor"\n                              d="M10.11 7.82L8.15 5.85a.5.5 0 11.7-.7l2.83 2.82a.5.5 0 010 .71l-2.83 2.83a.5.5 0 11-.7-.7l1.98-1.99H4.5a.5.5 0 110-1h5.61z"\n                            ></path>\n                          </g>\n                        </svg>'});return t.addEventListener("click",(n=>{n.stopPropagation(),t.classList.add("active"),t.parentElement.classList.add("active"),X(ee,{taskId:e.getId(),taskProjectId:e.getProjectId(),moveTaskControl:t})})),t})(e)),n.appendChild((e=>{const t={title:"delete-task",icon:'<svg\n                          xmlns="http://www.w3.org/2000/svg"\n                          width="24"\n                          height="24"\n                        >\n                          <g fill="none" fill-rule="evenodd">\n                            <path d="M0 0h24v24H0z"></path>\n                            <rect\n                              width="14"\n                              height="1"\n                              x="5"\n                              y="6"\n                              fill="currentColor"\n                              rx="0.5"\n                            ></rect>\n                            <path\n                              fill="currentColor"\n                              d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"\n                            ></path>\n                            <path\n                              stroke="currentColor"\n                              d="M17.5 6.5h-11V18A1.5 1.5 0 008 19.5h8a1.5 1.5 0 001.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0014 3.5h-4A1.5 1.5 0 008.5 5v1.5z"\n                            ></path>\n                          </g>\n                        </svg>',taskId:e.getId(),taskTitle:e.getTitle()},n=Ye(t);return n.addEventListener("click",(e=>{e.stopPropagation();const{taskId:n,taskTitle:a}=t,s=Se(`Are you sure you want to delete <strong>${a}</strong>?`,n,"task");document.body.append(s)})),n})(e)),n},Ge=e=>{const t=document.createElement("div");if(t.classList.add("content-wrapper__task-info-tags"),e.getDueDate()){const n=(e=>{const t=document.createElement("div");t.classList.add("task-info-tags__task-due-date"),t.innerHTML='<svg\n                        width="12"\n                        height="12"\n                        viewBox="0 0 12 12"\n                        fill="none"\n                        xmlns="http://www.w3.org/2000/svg"\n                      >\n                        <path\n                          fill-rule="evenodd"\n                          clip-rule="evenodd"\n                          d="M9.5 1h-7A1.5 1.5 0 001 2.5v7A1.5 1.5 0 002.5 11h7A1.5 1.5 0 0011 9.5v-7A1.5 1.5 0 009.5 1zM2 2.5a.5.5 0 01.5-.5h7a.5.5 0 01.5.5v7a.5.5 0 01-.5.5h-7a.5.5 0 01-.5-.5v-7zM8.75 8a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM3.5 4a.5.5 0 000 1h5a.5.5 0 000-1h-5z"\n                          fill="currentColor"\n                        ></path>\n                      </svg>';const n=document.createElement("span");return e.dueDateIsToday()?(t.classList.add("due-date-today"),t.classList.remove("due-date-tomorrow","due-date-upcoming","due-date-within-next-week","due-date-overdue"),n.textContent="Today"):e.dueDateIsTomorrow()?(t.classList.add("due-date-tomorrow"),t.classList.remove("due-date-today","due-date-upcoming","due-date-within-next-week","due-date-overdue"),n.textContent="Tomorrow"):e.dueDateIsWithinNextWeek()?(t.classList.add("due-date-within-next-week"),t.classList.remove("due-date-today","due-date-tomorrow","due-date-upcoming","due-date-overdue"),n.textContent=(0,y.Z)(e.getDueDate(),"EEEE")):e.dueDateIsUpcoming()?(t.classList.add("due-date-upcoming"),t.classList.remove("due-date-today","due-date-tomorrow","due-date-within-next-week","due-date-overdue"),n.textContent=(0,y.Z)(e.getDueDate(),"MMM d")):e.isOverdue()&&(t.classList.add("due-date-overdue"),t.classList.remove("due-date-today","due-date-tomorrow","due-date-upcoming","due-date-within-next-week"),n.textContent=(0,y.Z)(e.getDueDate(),"MMM d")),t.appendChild(n),t})(e);t.appendChild(n)}return((e,t)=>{e.getLabels().forEach((e=>{const n=document.createElement("div");n.classList.add("task-info-tags__task-label"),n.innerHTML='<svg\n                        xmlns="http://www.w3.org/2000/svg"\n                        width="12"\n                        height="12"\n                        viewBox="0 0 12 12"\n                      >\n                        <path\n                          d="M9.357 1C10.264 1 11 1.736 11 2.643V6.07c0 .436-.173.854-.481 1.162L7.232 10.52a1.643 1.643 0 01-2.323 0L1.48 7.09c-.64-.64-.64-1.68.001-2.322L4.768 1.48C5.076 1.173 5.494 1 5.93 1h3.427zm-.07.91H5.93a.805.805 0 00-.569.235L2.145 5.362a.805.805 0 000 1.138L5.5 9.855a.805.805 0 001.138 0l3.217-3.217a.805.805 0 00.236-.569V2.713a.804.804 0 00-.804-.804zM7.364 3.726a.91.91 0 110 1.818.91.91 0 010-1.818z"\n                          fill="currentColor"\n                          fill-rule="evenodd"\n                        ></path>\n                      </svg>';const a=document.createElement("span");a.textContent=e,n.appendChild(a),t.appendChild(n)}))})(e,t),t},Qe=(e,t)=>{const{task:n,projectView:a}=e,s=document.createElement("li");s.classList.add("tasks-list-item"),s.dataset.id=n.getId(),n.isCompleted()&&s.classList.add("checked"),a.getLayout()===w.BOARD?s.classList.add("grid-layout"):a.getLayout()===w.LIST&&s.classList.add("flex-layout");const o=(e=>{const t=document.createElement("div");t.classList.add("tasks-list-item__handle"),e.getLayout()===w.BOARD?t.classList.add("grid-layout"):e.getLayout()===w.LIST&&t.classList.add("flex-layout");const n=document.createElement("button");return n.innerHTML='<svg width="24" height="24">\n                    <path\n                      fill="currentColor"\n                      d="M14.5 15.5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 15.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 15.5zm5-5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 10.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 10.5zm5-5a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 0114.5 5.5zm-5 0a1.5 1.5 0 11-.001 3.001A1.5 1.5 0 019.5 5.5z"\n                    ></path>\n                  </svg>',t.appendChild(n),t})(a),d=document.createElement("div");d.classList.add("wrapper"),a.getLayout()===w.BOARD?d.classList.add("grid-layout"):a.getLayout()===w.LIST&&d.classList.add("flex-layout");const c=(e=>{const t=document.createElement("div");t.classList.add("tasks-list-item__checkbox");const n=document.createElement("button");return n.classList.add("checkbox-circle",`checkbox-circle-${e.getPriority().toLowerCase()}`),n.innerHTML='<svg>\n                      <path\n                        fill="currentColor"\n                        d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z"\n                      ></path>\n                    </svg>',t.appendChild(n),t.addEventListener("click",(()=>{const n=t.parentElement.parentElement;e.toggleCompleted(),e.isCompleted()?(n.classList.remove("not-completed"),n.classList.add("completed"),n.addEventListener("animationend",(()=>{X(ue)}))):(n.classList.add("not-completed"),n.classList.remove("completed"),n.addEventListener("animationend",(()=>{X(me)})))})),t})(n),r=document.createElement("div");r.classList.add("tasks-list-item__content-wrapper");const i=document.createElement("div");i.classList.add("content-wrapper__task-name-controls");const l=document.createElement("div");l.classList.add("task-name-controls__task-name"),l.textContent=n.getTitle();const u=Xe(n,t);i.appendChild(l),i.appendChild(u);const m=document.createElement("div");m.classList.add("content-wrapper__task-description");const p=document.createElement("p");p.textContent=n.getDescription(),m.appendChild(p);const h=Ge(n);return r.appendChild(i),r.appendChild(m),r.appendChild(h),d.appendChild(c),d.appendChild(r),s.appendChild(o),s.appendChild(d),r.addEventListener("click",(()=>{const e=Fe(n,t);document.body.appendChild(e)})),s},et=(e,t)=>{const n=e.getOverdueTasks(),a=e.getProjectView(),{view:s}=e,o=document.createElement("section");o.classList.add("overdue");const d=document.createElement("div");d.classList.add("overdue__header");const c=document.createElement("button");c.classList.add("overdue__toggle-btn","active"),c.innerHTML='<svg width="24" height="24"><path fill="none" stroke="currentColor" d="M16 10l-4 4-4-4"></path></svg>';const r=document.createElement("h2");r.classList.add("overdue__title"),r.textContent="Overdue";const i=document.createElement("div");i.classList.add("overdue__tasks","overdue--collapsed");const l=document.createElement("ul");return l.classList.add("tasks-list"),a.getLayout()===w.BOARD?l.classList.add("grid-layout"):a.getLayout()===w.LIST&&l.classList.add("flex-layout"),qe.ZP.create(l,{group:`${s}-overdue`,animation:150,draggable:".tasks-list-item",handle:".tasks-list-item__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",store:{get(e){const t=localStorage.getItem(e.options.group.name);return t?t.split("|"):[]},set(e){const t=e.toArray();localStorage.setItem(e.options.group.name,t.join("|"))}}}),d.appendChild(c),d.appendChild(r),o.appendChild(d),o.appendChild(i),i.appendChild(l),n.forEach((e=>{const n=Qe({task:e,projectView:a},t);l.appendChild(n)})),c.addEventListener("click",(()=>{c.classList.toggle("active"),i.classList.toggle("overdue--collapsed")})),o},tt=(e,t)=>{const{date:n,projectView:a,view:s,tasks:o}=e,d=document.createElement("section"),c=document.createElement("div");c.classList.add("day__header");const r=document.createElement("h2");r.classList.add("day__title"),(0,A.Z)(n)?(d.classList.add("day-section--today"),r.textContent=`${(0,y.Z)(n,"MMMM d")} ‧ Today ‧ ${(0,y.Z)(n,"EEEE")}`):(0,j.Z)(n)?(d.classList.add("day-section--tomorrow"),r.textContent=`${(0,y.Z)(n,"MMMM d")} ‧ Tomorrow ‧ ${(0,y.Z)(n,"EEEE")}`):(d.classList.add(`day-section--${(0,y.Z)(n,"yyyy-MM-dd")}`),r.textContent=`${(0,y.Z)(n,"MMMM d")} ‧ ${(0,y.Z)(n,"EEEE")}`);const i=document.createElement("div");i.classList.add("day__tasks");const l=document.createElement("ul");return l.classList.add("tasks-list"),a.getLayout()===w.BOARD?l.classList.add("grid-layout"):a.getLayout()===w.LIST&&l.classList.add("flex-layout"),qe.ZP.create(l,{group:`${s}-${(0,y.Z)(n,"yyyy-MM-dd")}`,animation:150,draggable:".tasks-list-item",handle:".tasks-list-item__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",store:{get(e){const t=localStorage.getItem(e.options.group.name);return t?t.split("|"):[]},set(e){const t=e.toArray();localStorage.setItem(e.options.group.name,t.join("|"))}}}),c.appendChild(r),d.appendChild(c),d.appendChild(i),i.appendChild(l),o.forEach((e=>{const n=Qe({task:e,projectView:a},t);l.appendChild(n)})),d},nt=e=>{const t=document.createElement("section");t.classList.add("content"),t.dataset.view="today";const n=(e=>{const t=ve(e.getTodayView()),n=t.querySelector(".project-title");n.textContent="Today";const a=document.createElement("small");a.classList.add("today-date");const s=new Date,o=(0,y.Z)(s,"EEE MMMM d");a.textContent=o,n.appendChild(a);const d=t.querySelector(".controls");return d.appendChild(Ve(e)),d.appendChild(He()),t})(e),a=document.createElement("div");a.classList.add("tasks"),e.getTodayView().getLayout()===w.BOARD?a.classList.add("grid-layout"):e.getTodayView().getLayout()===w.LIST&&a.classList.add("flex-layout");const s=et({getOverdueTasks:e.getOverdueTasks,getProjectView:e.getTodayView,view:"today"},e),o=tt({date:new Date,projectView:e.getTodayView(),view:"today",tasks:e.getTodayTasks()},e);return t.appendChild(n),t.appendChild(a),a.appendChild(s),a.appendChild(o),t},at=e=>{const t=e.getInbox(),n=document.createElement("section");n.classList.add("content"),n.dataset.view="inbox";const a=(e=>{const t=ve(e.getInboxView());t.querySelector(".project-title").textContent="Inbox";const n=t.querySelector(".controls");return n.appendChild(Ve(e)),n.appendChild(ze(e)),n.appendChild(He()),t})(e),s=e.getInboxView(),o=document.createElement("div");o.classList.add("tasks"),s.getLayout()===w.BOARD?o.classList.add("grid-layout"):s.getLayout()===w.LIST&&o.classList.add("flex-layout");const d=document.createElement("ul");return d.classList.add("tasks-list"),s.getLayout()===w.Board?d.classList.add("grid-layout"):s.getLayout()===w.LIST&&d.classList.add("flex-layout"),qe.ZP.create(d,{group:"inbox tasks",animation:150,draggable:".tasks-list-item",handle:".tasks-list-item__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",store:{get(e){const t=localStorage.getItem(e.options.group.name);return t?t.split("|"):[]},set(e){const t=e.toArray();localStorage.setItem(e.options.group.name,t.join("|"))}}}),t.isShowCompleted()?e.getAllInboxTasks().forEach((t=>{const n=Qe({task:t,projectView:s},e);d.appendChild(n)})):e.getUnCompletedInboxTasks().forEach((t=>{const n=Qe({task:t,projectView:s},e);d.appendChild(n)})),o.appendChild(d),n.appendChild(a),n.appendChild(o),n},st=e=>{const t=e.getTodayTasks().concat(e.getUpcomingTasks()),n=document.createElement("section");n.classList.add("content"),n.dataset.view="upcoming";const a=(e=>{const t=ve(e.getUpcomingView());t.querySelector(".project-title").textContent="Upcoming";const n=t.querySelector(".controls");return n.appendChild(Ve(e)),n.appendChild(He()),t})(e),s=document.createElement("div");s.classList.add("tasks"),e.getTodayView().getLayout()===w.BOARD?s.classList.add("grid-layout"):e.getTodayView().getLayout()===w.LIST&&s.classList.add("flex-layout");const o=et({getOverdueTasks:e.getOverdueTasks,getProjectView:e.getTodayView,view:"upcoming"},e);return n.appendChild(a),n.appendChild(s),s.appendChild(o),e.mapTasksByDueDate(t).forEach(((t,n)=>{const a=tt({date:new Date(n),projectView:e.getUpcomingView(),view:"upcoming",tasks:t},e);s.appendChild(a)})),n},ot=e=>{const t=e.getCurrentProject(),n=e.getProject(t),a=document.createElement("section");a.classList.add("content"),a.dataset.view="project";const s=(e=>{const t=e.getCurrentProject(),n=e.getProject(t),a=ve(n.getView());a.querySelector(".project-title").textContent=n.getTitle();const s=a.querySelector(".controls");return s.appendChild(Ve(e)),s.appendChild(ze(e)),s.appendChild(He()),s.appendChild((e=>{const t=Pe({title:"edit-project",icon:'<svg width="24" height="24">\n                <g fill="none" fill-rule="evenodd">\n                  <path\n                    fill="currentColor"\n                    d="M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"\n                  ></path>\n                  <path\n                    stroke="currentColor"\n                    d="M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"\n                  ></path>\n                </g>\n              </svg>'});return t.addEventListener("click",(()=>{const t=_e(e);document.body.appendChild(t)})),t})(e)),s.appendChild((e=>{const t=e.getCurrentProject(),n=e.getProject(t),a=Pe({title:"delete-project",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <g fill="none" fill-rule="evenodd">\n                  <path d="M0 0h24v24H0z"></path>\n                  <rect\n                    width="14"\n                    height="1"\n                    x="5"\n                    y="6"\n                    fill="currentColor"\n                    rx="0.5"\n                  ></rect>\n                  <path\n                    fill="currentColor"\n                    d="M10 9h1v8h-1V9zm3 0h1v8h-1V9z"\n                  ></path>\n                  <path\n                    stroke="currentColor"\n                    d="M17.5 6.5h-11V18A1.5 1.5 0 008 19.5h8a1.5 1.5 0 001.5-1.5V6.5zm-9 0h7V5A1.5 1.5 0 0014 3.5h-4A1.5 1.5 0 008.5 5v1.5z"\n                  ></path>\n                </g>\n              </svg>'});return a.addEventListener("click",(()=>{const e=Se(`Are you sure you want to delete <strong>${n.getTitle()}</strong>?`,t,"project");document.body.append(e)})),a})(e)),a})(e),o=n.getView(),d=document.createElement("div");d.classList.add("tasks"),o.getLayout()===w.BOARD?d.classList.add("grid-layout"):o.getLayout()===w.LIST&&d.classList.add("flex-layout");const c=document.createElement("ul");return c.classList.add("tasks-list"),o.getLayout()===w.BOARD?c.classList.add("grid-layout"):o.getLayout()===w.LIST&&c.classList.add("flex-layout"),qe.ZP.create(c,{group:`${n.getTitle()}-${t}`,animation:150,draggable:".tasks-list-item",handle:".tasks-list-item__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",store:{get(e){const t=localStorage.getItem(e.options.group.name);return t?t.split("|"):[]},set(e){const t=e.toArray();localStorage.setItem(e.options.group.name,t.join("|"))}}}),n.isShowCompleted()?n.getAllTasks().forEach((t=>{const n=Qe({task:t,projectView:o},e);c.appendChild(n)})):n.getUnCompletedTasks().forEach((t=>{const n=Qe({task:t,projectView:o},e);c.appendChild(n)})),d.appendChild(c),a.appendChild(s),a.appendChild(d),a},dt=function(e){const t=document.querySelector("main");t.removeChild(t.lastElementChild),t.appendChild(e)},ct=e=>{const{id:t}=e.dataset,n=document.querySelectorAll(`[data-id="${t}"]`);[...document.querySelectorAll(".main-filters-list__item"),...document.querySelectorAll(".menu__item")].forEach((e=>{e.classList.remove("active")})),n.forEach((e=>{e.classList.add("active")}))},rt=(e,t)=>{document.querySelector(`.${e}.main-filters-list__item`).querySelector("span.count").textContent=t},it=e=>{rt("inbox",e.getInboxTasksCount()),rt("today",e.getTodayTasksCount()),document.querySelectorAll(".main-filters-list__item").forEach((t=>{t.addEventListener("click",(()=>{e.setCurrentProject(null),X(`main-filters-${t.dataset.filter}:clicked`,e),ct(t)}))}))},lt=e=>{let{item:t}=e;const n=document.createElement("li");n.classList.add("menu__item"),n.dataset.id=t.getId();const a=document.createElement("button"),s=document.createElement("div");s.classList.add("icon-name-wrapper");const o=document.createElement("span");o.classList.add("project-icon");const d=document.createElement("div");d.style.backgroundColor=t.getColor(),o.appendChild(d);const c=document.createElement("span");c.classList.add("project-name"),c.textContent=t.getTitle(),s.appendChild(o),s.appendChild(c);const r=document.createElement("div");r.classList.add("actions-count-wrapper");const i=document.createElement("span");i.classList.add("actions-menu-icon"),i.innerHTML='<svg\n                      alt="More project actions"\n                      width="15"\n                      height="3"\n                      xmlns="http://www.w3.org/2000/svg"\n                    >\n                      <path\n                        d="M1.5 3a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm6 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm6 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"\n                        fill="currentColor"\n                        fill-rule="evenodd"\n                      ></path>\n                    </svg>';const l=document.createElement("span");return l.classList.add("count"),l.textContent=t.getTasksCount(),r.appendChild(i),r.appendChild(l),a.appendChild(s),a.appendChild(r),n.appendChild(a),n},ut=e=>{const t=document.querySelector(".favorites"),n=t.querySelector(".favorites-list");n.innerHTML="";const a=document.querySelector(".favorites .list-toggle-btn"),s=e.getFavoriteProjects();0===s.length?t.classList.add("hidden"):(t.classList.remove("hidden"),s.forEach((e=>{const t=lt({item:e});n.appendChild(t)})),a.classList.contains("active")?n.style.maxHeight=0:n.style.maxHeight=`${n.scrollHeight}px`),n.querySelectorAll(".menu__item").forEach((t=>{t.addEventListener("click",(()=>{const{id:n}=t.dataset;e.setCurrentProject(n),ct(t),X(se,{app:e,view:"project"})}))}))},mt=()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".project-modal");t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()}))},pt=e=>{const t=document.createElement("label");t.classList.add("view-radio-option"),t.setAttribute("for",e),t.setAttribute("data-layout",e);const n=document.createElement("div");n.classList.add(`${e}-preview`);const a=document.createElement("div");a.classList.add("option");const s=document.createElement("button");s.classList.add("checkbox-circle"),s.setAttribute("type","button"),s.innerHTML='<svg>\n                      <path\n                        fill="currentColor"\n                        d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z"\n                      ></path>\n                    </svg>';const o=document.createElement("label");return o.setAttribute("for",e),o.textContent=e.charAt(0).toUpperCase()+e.slice(1),a.append(s,o),t.append(n,a),t},ht=()=>{const e=document.createElement("form");e.classList.add("project-modal__form");const t=(()=>{const e=document.createElement("div");e.classList.add("form-field");const t=document.createElement("label");t.setAttribute("for","project-name"),t.textContent="Name";const n=document.createElement("span");n.classList.add("char-limit","hidden"),t.append(n);const a=document.createElement("input");return a.setAttribute("type","text"),a.setAttribute("id","project-name"),a.setAttribute("name","project-name"),a.setAttribute("autocomplete","on"),a.setAttribute("maxlength",120),a.setAttribute("required",!0),a.setAttribute("autofocus",!0),e.append(t,a),e.addEventListener("input",(e=>{const{value:t}=e.target,{length:a}=t,{maxLength:s}=e.target,o=document.querySelector(".submit-btn");a>0&&a<s?o.removeAttribute("disabled"):o.setAttribute("disabled",!0),a>=s-10&&a<=s?(n.classList.remove("hidden"),n.textContent=`Character limit: ${a}/${s}`):n.classList.add("hidden")})),e})(),n=(()=>{const e=document.createElement("div");e.classList.add("form-field");const t=document.createElement("label");t.setAttribute("for","project-color"),t.textContent="Color";const n=document.createElement("div");n.classList.add("color-picker");const a=document.createElement("input");return a.setAttribute("type","color"),a.setAttribute("id","project-color"),a.setAttribute("name","project-color"),a.setAttribute("value","#808080"),n.append(a),e.append(t,n),e})(),a=(()=>{const e=document.createElement("div");e.classList.add("form-field");const t=document.createElement("div");t.classList.add("favorite-switch");const n=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("id","is-favorite"),n.setAttribute("name","is-favorite");const a=document.createElement("span");a.classList.add("switch-handle"),t.append(n,a);const s=document.createElement("label");return s.textContent="Add to favorites",e.append(t,s),e.addEventListener("click",(()=>{n.checked=!n.checked,t.classList.toggle("checked")})),e})(),s=(()=>{const e=document.createElement("div");e.classList.add("form-field");const t=document.createElement("label");t.setAttribute("for","project-view"),t.textContent="View";const n=document.createElement("div");n.classList.add("view-radio-group");const a=pt("list");a.classList.add("checked");const s=pt("board");return n.append(a,s),e.append(t,n),a.addEventListener("click",(()=>{a.classList.add("checked"),s.classList.remove("checked")})),s.addEventListener("click",(()=>{s.classList.add("checked"),a.classList.remove("checked")})),e})();return e.append(t,n,a,s),e},vt=()=>{const e=document.createElement("div");e.classList.add("modal-overlay","add-project");const t=document.createElement("div");t.classList.add("project-modal");const n=(()=>{const e=document.createElement("div");return e.classList.add("modal-header"),e.textContent="Add Project",e})(),a=ht(),s=(()=>{const e=document.createElement("footer");e.classList.add("modal-footer");const t=document.createElement("button");t.classList.add("cancel-btn"),t.setAttribute("type","button"),t.innerText="Cancel";const n=document.createElement("button");return n.classList.add("submit-btn"),n.setAttribute("type","submit"),n.setAttribute("disabled",!0),n.innerText="Add",e.append(t,n),t.addEventListener("click",mt),n.addEventListener("click",(e=>{e.preventDefault(),mt();const t=document.querySelector("#project-name").value,n=document.querySelector("#project-color").value,a=document.querySelector("#is-favorite").checked,{layout:s}=document.querySelector(".view-radio-option.checked").dataset,o={title:t,color:n,favorite:a,view:{layout:s.toUpperCase()}};X(ne,o)})),e})();return t.append(n,a,s),e.append(t),e.addEventListener("click",(n=>{n.target.classList.contains("modal-overlay")&&(t.classList.add("hidden"),t.addEventListener("animationend",(()=>{e.remove()})))})),e};function gt(){const e=vt();document.body.appendChild(e)}const Lt=e=>{const t=document.querySelector(".projects"),n=document.querySelector(".projects .list-toggle-btn"),a=t.querySelector(".projects-list");a.innerHTML="";const s=t.querySelector(".add-project-btn");!function(e,t){t.getProjects().forEach((t=>{const n=lt({item:t});e.appendChild(n)}))}(a,e),n.classList.contains("active")?a.style.maxHeight=0:a.style.maxHeight=`${a.scrollHeight}px`,a.querySelectorAll(".menu__item").forEach((t=>{t.addEventListener("click",(()=>{const{id:n}=t.dataset;e.setCurrentProject(n),ct(t),X(se,{app:e,view:"project"})}))})),s.addEventListener("click",gt)},yt='<svg\n              xmlns="http://www.w3.org/2000/svg"\n              viewBox="0 0 12 12"\n              width="12"\n              height="12"\n              aria-hidden="true"\n              class="select-project-checkmark"\n            >\n              <path\n                fill="currentColor"\n                fill-rule="evenodd"\n                d="M4.902 6.975l4.182-4.244a.74.74 0 0 1 1.06 0 .775.775 0 0 1 0 1.081L5.432 8.597a.74.74 0 0 1-1.06 0L1.78 5.975a.775.775 0 0 1 0-1.081.74.74 0 0 1 1.061 0l2.06 2.081z"\n              ></path>\n            </svg>';function Et(e){const t=nt(e);dt(t),(e=>{it(e),ut(e),Lt(e),document.querySelectorAll(".list-toggle-btn").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active");const t=e.parentElement.nextElementSibling;e.classList.contains("active")?t.style.maxHeight=0:t.style.maxHeight=`${t.scrollHeight}px`}))}))})(e)}const bt=function(){G(Q,Et),G("main-filters-inbox:clicked",(e=>{const t=at(e);dt(t)})),G("main-filters-today:clicked",(e=>{const t=nt(e);dt(t)})),G("main-filters-upcoming:clicked",(e=>{const t=st(e);dt(t)})),G(ae,(e=>{(e=>{it(e),ut(e),Lt(e),(e=>{const t=document.querySelectorAll(`.menu__item[data-id="${e}"]`);t?t.forEach((e=>{ct(e)})):ct(document.querySelector(".main-filters-list__item.inbox"))})(e.getCurrentProject())})(e)})),G(se,(e=>{const{app:t,view:n}=e;if("inbox"===n){const e=at(t);dt(e)}else if("today"===n){const e=nt(t);dt(e)}else if("upcoming"===n){const e=st(t);dt(e)}else if("project"===n){const e=ot(t);dt(e)}})),G(oe,(e=>{const{view:t}=document.querySelector(".content").dataset;if("inbox"===t){const t=at(e);dt(t)}else if("today"===t){const t=nt(e);dt(t)}else if("upcoming"===t){const t=st(e);dt(t)}else if("project"===t){const t=ot(e);dt(t)}})),G(te,(e=>{const{app:t,taskId:n,taskProjectId:a,moveTaskControl:s}=e,o=((e,t,n,a)=>{const s=document.createElement("div");s.classList.add("popper-overlay");const o=document.createElement("div");o.classList.add("popper","select-project");const d=document.createElement("ul");d.classList.add("project-list");const c=(e=>{const t=document.createElement("li");t.classList.add("project-list-item"),t.dataset.project="inbox";const n=document.createElement("span");n.classList.add("project-icon"),n.innerHTML='<svg\n                  color="#246fe0"\n                  width="16"\n                  height="16"\n                  viewBox="0 0 16 16"\n                  class="project_icon project_icon_inbox"\n                >\n                  <g fill="currentColor">\n                    <path\n                      d="M13.5 9.5V12a1.5 1.5 0 01-1.5 1.5H4A1.5 1.5 0 012.5 12V9.5h3.75a1.75 1.75 0 003.5 0h3.75z"\n                      opacity="0.1"\n                    ></path>\n                    <path\n                      d="M10.491 2a2 2 0 011.923 1.45l1.509 5.28a2 2 0 01.077.55V12a2 2 0 01-2 2H4a2 2 0 01-2-2V9.28a2 2 0 01.077-.55l1.509-5.28A2 2 0 015.509 2h4.982zm0 1H5.51a1 1 0 00-.962.725l-1.509 5.28A1 1 0 003 9.28V12a1 1 0 001 1h8a1 1 0 001-1V9.28a1 1 0 00-.038-.275l-1.51-5.28a1 1 0 00-.96-.725zM6.25 9a.5.5 0 01.5.5 1.25 1.25 0 002.5 0 .5.5 0 01.5-.5h1.75a.5.5 0 110 1h-1.306a2.25 2.25 0 01-4.388 0H4.5a.5.5 0 010-1z"\n                    ></path>\n                  </g>\n                </svg>';const a=document.createElement("span");return a.classList.add("project-name"),a.textContent="Inbox",e||t.classList.add("selected"),t.append(n,a),t.innerHTML+=yt,t})(n),r=e.getProjects().map((e=>{const t=((e,t)=>{const n=document.createElement("li");n.classList.add("project-list-item"),n.dataset.project=e.getId();const a=document.createElement("span");a.classList.add("project-icon");const s=e.getColor(),o=document.createElement("div");o.classList.add("project-color"),o.style.backgroundColor=s;const d=document.createElement("span");return d.classList.add("project-name"),d.textContent=e.getTitle(),e.getId()===t&&n.classList.add("selected"),a.append(o),n.append(a,d),n.innerHTML+=yt,n})(e,n);return t}));d.append(c,...r),o.append(d),s.append(o);const i=()=>{const{top:e,left:t,width:n,height:s}=a.getBoundingClientRect(),d=t-(240-n)/2+"px",c=`${e+s}px`;o.style.transform=`translate(${d}, ${c})`,["resize","scroll"].forEach((e=>{window.addEventListener(e,i)}))};return i(),s.addEventListener("click",(e=>{a.classList.remove("active"),a.parentElement.classList.remove("active"),(e=>{e.currentTarget.remove()})(e)})),[c,...r].forEach((e=>{e.addEventListener("click",(()=>{const{project:n}=e.dataset;X(he,{taskId:t,projectId:"inbox"===n?null:n}),r.forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected")}))})),s})(t,n,a,s);document.body.append(o)}))};bt(),F.load(),F.getAllTasks().length||F.getProjects().length||(F.getInbox().addTask(D({title:"Welcome to Task Pilot!",description:"This is your inbox. Tasks can be organized into projects, and you can also add labels and filters.",dueDate:new Date,priority:"P1",labels:["Welcome"]})),F.getInbox().addTask(D({title:"Create a new project",description:"Projects are a great way to organize your tasks. You can create as many projects as you want.",dueDate:(0,v.Z)(),priority:"P2",labels:["Welcome"]})),F.getInbox().addTask(D({title:"Add a new task",description:"Tasks can be added to projects or to your inbox. You can also add labels and due dates to your tasks.",dueDate:(0,g.Z)(new Date,3),priority:"P3",labels:["Welcome"]})),F.getInbox().addTask(D({title:"Add a new label",description:"Labels are a great way to organize your tasks. You can create as many labels as you want.",dueDate:(0,L.Z)(new Date,2),priority:"P4",labels:["Welcome"]})),F.addProject({title:"Home 🏡",favorite:!0}),F.getProjects()[0].addTask(D({title:"Add a new task to this project",description:"Tasks can be added to projects or to your inbox. You can also add labels and due dates to your tasks.",dueDate:new Date,priority:"P3",labels:["Welcome"]})),F.save()),X(Q,F),G(ne,(e=>{const t=F.addProject(e);F.setCurrentProject(t),F.save(),X(se,{app:F,view:"project"}),X(ae,F)})),G(ce,(e=>{F.updateProject(e.id,e.project),F.save(),X(oe,F),X(ae,F)})),G(de,(e=>{F.removeProject(e),F.setCurrentProject(null),F.save(),X(se,{app:F,view:"inbox"}),X(ae,F)})),G(re,(e=>{F.addTask(e),F.save(),X(oe,F),X(ae,F)})),G(le,(e=>{F.updateTask(e.id,e.task),F.save(),X(oe,F),X(ae,F)})),G(ie,(e=>{F.removeTask(e),F.save(),X(oe,F),X(ae,F)})),G(ue,(()=>{F.save(),X(oe,F),X(ae,F)})),G(me,(()=>{F.save(),X(oe,F),X(ae,F)})),G(pe,(()=>{F.save(),X(oe,F),X(ae,F)})),G(ee,(e=>{X(te,{app:F,...e})})),G(he,(e=>{F.moveTask(e.taskId,e.projectId),F.save(),X(oe,F),X(ae,F)}))},782:(e,t,n)=>{e.exports=n.p+"0f616f55b32aef83bfa7.svg"},864:(e,t,n)=>{e.exports=n.p+"c75e8d55beabd6a374e7.svg"},252:(e,t,n)=>{e.exports=n.p+"e9e393ad965b4f563b01.svg"},598:(e,t,n)=>{e.exports=n.p+"564c058a3617ba8c2a4e.svg"},974:(e,t,n)=>{e.exports=n.p+"9337fd45e1613e141799.svg"},178:(e,t,n)=>{e.exports=n.p+"a3ee1590ba369d699543.svg"},888:(e,t,n)=>{e.exports=n.p+"4b7ca48b6d42c63831ba.svg"},386:(e,t,n)=>{e.exports=n.p+"4abe3572e6c54c074f21.svg"},830:(e,t,n)=>{e.exports=n.p+"c2ed46318a928f876899.svg"},880:(e,t,n)=>{e.exports=n.p+"be1d82b8efaa09bbe30c.svg"}},e=>{e.O(0,[95],(()=>(959,e(e.s=959)))),e.O()}]);